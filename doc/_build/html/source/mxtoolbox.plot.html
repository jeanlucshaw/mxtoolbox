
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>plot subpackage &#8212; mxtoolbox April 2020 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="process subpackage" href="mxtoolbox.process.html" />
    <link rel="prev" title="Package documentation" href="../index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mxtoolbox.process.html" title="process subpackage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Package documentation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">mxtoolbox April 2020 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="plot-subpackage">
<h1>plot subpackage<a class="headerlink" href="#plot-subpackage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-mxtoolbox.plot.mplutils">
<span id="mplutils-module"></span><h2>mplutils module<a class="headerlink" href="#module-mxtoolbox.plot.mplutils" title="Permalink to this headline">¶</a></h2>
<p>Tweak details of matplotlib.</p>
<dl class="function">
<dt id="mxtoolbox.plot.mplutils.axlabel_doy2months">
<code class="sig-prename descclassname">mxtoolbox.plot.mplutils.</code><code class="sig-name descname">axlabel_doy2months</code><span class="sig-paren">(</span><em class="sig-param">axes</em><span class="sig-paren">)</span><a class="headerlink" href="#mxtoolbox.plot.mplutils.axlabel_doy2months" title="Permalink to this definition">¶</a></dt>
<dd><p>Change x axis labels from day of year to month abbreviation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>axes</strong> (<em>matplotlib.axes</em>) – Matplotlib axes on which to operate.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mxtoolbox.plot.mplutils.axlabel_woy2months">
<code class="sig-prename descclassname">mxtoolbox.plot.mplutils.</code><code class="sig-name descname">axlabel_woy2months</code><span class="sig-paren">(</span><em class="sig-param">axes</em>, <em class="sig-param">align='center'</em>, <em class="sig-param">ycoord=-10</em>, <em class="sig-param">ltype='abbr'</em><span class="sig-paren">)</span><a class="headerlink" href="#mxtoolbox.plot.mplutils.axlabel_woy2months" title="Permalink to this definition">¶</a></dt>
<dd><p>Change x axis labels from week of year to month abbreviation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>axes</strong> (<em>matplotlib.axes</em>) – Matplotlib axes on which to operate.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mxtoolbox.plot.mplutils.colorbar">
<code class="sig-prename descclassname">mxtoolbox.plot.mplutils.</code><code class="sig-name descname">colorbar</code><span class="sig-paren">(</span><em class="sig-param">axes</em>, <em class="sig-param">mappable</em>, <em class="sig-param">label=None</em>, <em class="sig-param">pad_size=0.05</em>, <em class="sig-param">cbar_size=0.05</em>, <em class="sig-param">**cbar_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#mxtoolbox.plot.mplutils.colorbar" title="Permalink to this definition">¶</a></dt>
<dd><p>Add colorbar to axes.</p>
<p>Out of the box, pyplot’s colorbar presents two inconvenients,</p>
<ul class="simple">
<li><p>It changes the axes size to accomodate the colorbar</p></li>
<li><p>It requires a second call and a new variable for labeling</p></li>
</ul>
<p>This routine’s purpose is to hide often used workarounds from
the main code. It also takes arrays of two axes as input to
produce colorbars spanning multiple panels. If <cite>cbar_kw</cite>
sets the <cite>orientation</cite> parameter to ‘vertical’, axes[0] should
be the top axes. If it is set to ‘horizontal, axes[0] should
be the left axes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axes</strong> (<em>matplotlib.axes</em>) – Add colorbar to this (these) axes.</p></li>
<li><p><strong>mappable</strong> (<em>matplotlib.artist</em>) – Colored object to match.</p></li>
<li><p><strong>label</strong> (<em>str</em>) – Text label of colorbar.</p></li>
<li><p><strong>pad_size</strong> (<em>float</em>) – Pad width in fraction of axes width.</p></li>
<li><p><strong>cbar_size</strong> (<em>float</em>) – Colorbar width in fraction of axes width.</p></li>
<li><p><strong>**cbar_kw</strong> (<em>keyword arguments</em>) – Passed on to pyplot.colorbar.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>cbar</strong> (<em>pyplot.colorbar</em>) – Reference to created colorbar object.</p></li>
<li><p><strong>cax</strong> (<em>matplotlib.axes</em>) – Axes in which the colorbar is drawn.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mxtoolbox.plot.mplutils.colorline">
<code class="sig-prename descclassname">mxtoolbox.plot.mplutils.</code><code class="sig-name descname">colorline</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">z=None</em>, <em class="sig-param">cmap=&lt;matplotlib.colors.LinearSegmentedColormap object&gt;</em>, <em class="sig-param">norm=&lt;matplotlib.colors.Normalize object&gt;</em>, <em class="sig-param">linewidth=3</em>, <em class="sig-param">alpha=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#mxtoolbox.plot.mplutils.colorline" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a colored line with coordinates x and y
Optionally specify colors in the array z
Optionally specify a colormap, a norm function and a line width</p>
</dd></dl>

<dl class="function">
<dt id="mxtoolbox.plot.mplutils.labeled_colorbar">
<code class="sig-prename descclassname">mxtoolbox.plot.mplutils.</code><code class="sig-name descname">labeled_colorbar</code><span class="sig-paren">(</span><em class="sig-param">position</em>, <em class="sig-param">col_arr</em>, <em class="sig-param">lab_array</em>, <em class="sig-param">fig</em>, <em class="sig-param">txt_w=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mxtoolbox.plot.mplutils.labeled_colorbar" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a discrete colorbar with labels on the colors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>position</strong> (<em>tuple size 4</em>) – (left, bottom, width, height).</p></li>
<li><p><strong>col_arr</strong> (<em>array</em>) – RGB or RGBA lists.</p></li>
<li><p><strong>lab_array</strong> (<em>str array</em>) – Labels to assign colors.</p></li>
<li><p><strong>fig</strong> (<em>pyplot.Figure</em>) – Where to add the colorbar.</p></li>
<li><p><strong>txt_w</strong> (<em>boolean array</em>) – Labels to print in white (black is default).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mxtoolbox.plot.mplutils.move_axes">
<code class="sig-prename descclassname">mxtoolbox.plot.mplutils.</code><code class="sig-name descname">move_axes</code><span class="sig-paren">(</span><em class="sig-param">axes</em>, <em class="sig-param">ud=0</em>, <em class="sig-param">rl=0</em><span class="sig-paren">)</span><a class="headerlink" href="#mxtoolbox.plot.mplutils.move_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves axes ud upwards and rl right-wards.</p>
<p>Handy when plt.subplots gets you 99% to what you want but
needs a final nudge here and there.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axes</strong> (<em>matplotlib.axes</em>) – Axes to operate on.</p></li>
<li><p><strong>ud</strong> (<em>float</em>) – Move panel up by <cite>ud</cite> in axes units (0-1).</p></li>
<li><p><strong>rl</strong> (<em>float</em>) – Move panel right by <cite>rl</cite> in axes units (0-1).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-mxtoolbox.plot.plots">
<span id="plots-module"></span><h2>plots module<a class="headerlink" href="#module-mxtoolbox.plot.plots" title="Permalink to this headline">¶</a></h2>
<p>Streamline making typical plots for time series analysis, and
physical oceanography.</p>
<dl class="function">
<dt id="mxtoolbox.plot.plots.ts_diagram">
<code class="sig-prename descclassname">mxtoolbox.plot.plots.</code><code class="sig-name descname">ts_diagram</code><span class="sig-paren">(</span><em class="sig-param">axes</em>, <em class="sig-param">t_min=-2</em>, <em class="sig-param">t_max=20</em>, <em class="sig-param">s_min=32</em>, <em class="sig-param">s_max=37</em>, <em class="sig-param">lab_curve_exp=1</em>, <em class="sig-param">levels=array([ 5</em>, <em class="sig-param">6</em>, <em class="sig-param">7</em>, <em class="sig-param">8</em>, <em class="sig-param">9</em>, <em class="sig-param">10</em>, <em class="sig-param">11</em>, <em class="sig-param">12</em>, <em class="sig-param">13</em>, <em class="sig-param">14</em>, <em class="sig-param">15</em>, <em class="sig-param">16</em>, <em class="sig-param">17</em>, <em class="sig-param">18</em>, <em class="sig-param">19</em>, <em class="sig-param">20</em>, <em class="sig-param">21</em>, <em class="sig-param">22</em>, <em class="sig-param">23</em>, <em class="sig-param">24</em>, <em class="sig-param">25</em>, <em class="sig-param">26</em>, <em class="sig-param">27</em>, <em class="sig-param">28</em>, <em class="sig-param">29</em>, <em class="sig-param">30</em>, <em class="sig-param">31</em>, <em class="sig-param">32</em>, <em class="sig-param">33</em>, <em class="sig-param">34</em>, <em class="sig-param">35])</em><span class="sig-paren">)</span><a class="headerlink" href="#mxtoolbox.plot.plots.ts_diagram" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw density contours as background of a TS plot.</p>
<p>Mandatory input:</p>
<p>axes:            [matplotlib.pyplot.axes]: where to draw</p>
<p>Optional inputs:</p>
<p>t_min:           [float]: minimum temperature to display
t_max:           [float]: maximum temperature to display
s_min:           [float]: minimum salinity to display
s_max:           [float]: maximum salinity to display
lab_curve_exp:   [float]: exponent of the curve on which</p>
<blockquote>
<div><p>to draw density labels. 1 will
draw them straight from (t_max,s_min)
to (t_min,s_max). Raising its value
pushes labels towards (t_max,s_max) and
lowering it pushes labels towards
(t_min,s_min)</p>
</div></blockquote>
<p>levels:          [numpy array]: density contours to draw</p>
</dd></dl>

<dl class="function">
<dt id="mxtoolbox.plot.plots.scorecard">
<code class="sig-prename descclassname">mxtoolbox.plot.plots.</code><code class="sig-name descname">scorecard</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">field</em>, <em class="sig-param">ax</em>, <em class="sig-param">side_label=''</em>, <em class="sig-param">color_displays='anomaly'</em>, <em class="sig-param">value_displays='value'</em>, <em class="sig-param">anomaly_color_levels=4</em>, <em class="sig-param">units_label=''</em>, <em class="sig-param">cbar_label=''</em>, <em class="sig-param">averages=False</em>, <em class="sig-param">colorbar=False</em>, <em class="sig-param">hide_xlabels=False</em>, <em class="sig-param">sub_na=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mxtoolbox.plot.plots.scorecard" title="Permalink to this definition">¶</a></dt>
<dd><p>Function scorecard:</p>
<p>Takes as input a pandas dataframe with one of the columns named
time and expected to be type numpy datetime64[ns]. Makes a monthly
scorecard plot modelled on Peter Galbraith’s AZMP figures for the
column field of the dataframe and places it in axes ax.</p>
<p>Options:</p>
<p>side_label: Label on the left of the plot</p>
<p>color_displays: choose from ‘anomaly’, ‘normalized’, or ‘value’ to
make the color of the boxes reflect anomaly to the mean, value normalized
by standard deviation of the whole time series, or the actual value.</p>
<p>value_displays: choose between ‘anomaly’ and ‘value’ to set the number to
be displayed in the box.</p>
<p>anomaly_color_levels: choose how many color steps to have in both
directions with respect to zero.</p>
<p>units_label: units of the average values displayed on the right.</p>
<p>averages: boolean, display averages by month throughout all years.</p>
<p>colorbar: boolean, display colorbar if averages is false.</p>
<p>hide_xlabels: boolean, usefull for stacked plots.</p>
</dd></dl>

<dl class="function">
<dt id="mxtoolbox.plot.plots.scorecard_bottom_monthly">
<code class="sig-prename descclassname">mxtoolbox.plot.plots.</code><code class="sig-name descname">scorecard_bottom_monthly</code><span class="sig-paren">(</span><em class="sig-param">dataset</em>, <em class="sig-param">field</em>, <em class="sig-param">ax</em>, <em class="sig-param">value_displays='anomaly'</em>, <em class="sig-param">xlimits=False</em>, <em class="sig-param">xlabels=True</em>, <em class="sig-param">ylabel=False</em>, <em class="sig-param">year_labels=False</em>, <em class="sig-param">y0_adjust=0</em>, <em class="sig-param">minor_ticks=False</em>, <em class="sig-param">major_ticks=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mxtoolbox.plot.plots.scorecard_bottom_monthly" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mxtoolbox.plot.plots.xr_plot_pm_patch">
<code class="sig-prename descclassname">mxtoolbox.plot.plots.</code><code class="sig-name descname">xr_plot_pm_patch</code><span class="sig-paren">(</span><em class="sig-param">ds</em>, <em class="sig-param">xcoord</em>, <em class="sig-param">base</em>, <em class="sig-param">interval</em>, <em class="sig-param">ax</em>, <em class="sig-param">color='lightskyblue'</em><span class="sig-paren">)</span><a class="headerlink" href="#mxtoolbox.plot.plots.xr_plot_pm_patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a patch at ds field base plus or minus ds field interval along
the whole ds coordinate xcoord. Useful for making climatologies form
example.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">plot subpackage</a><ul>
<li><a class="reference internal" href="#module-mxtoolbox.plot.mplutils">mplutils module</a></li>
<li><a class="reference internal" href="#module-mxtoolbox.plot.plots">plots module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../index.html"
                        title="previous chapter">Package documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mxtoolbox.process.html"
                        title="next chapter">process subpackage</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/source/mxtoolbox.plot.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mxtoolbox.process.html" title="process subpackage"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Package documentation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">mxtoolbox April 2020 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Jean-Luc Shaw.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>